---
title: ç”¨Gitæ“ä½œSVNçš„æ›´æˆç†Ÿçš„æ¨¡å¼ï¼šSubgit
date: 2020-11-25T16:44:19+08:00
draft: false
isCJKLanguage: true
tags:
 - Git
---

### Subgit ç®€ä»‹

Subgitæ˜¯ä¸€æ¬¾å•†ä¸šè½¯ä»¶ï¼Œæä¾›svnåˆ°gitä»“åº“çš„é•œåƒï¼Œä½¿å¾—åœ¨SVNç«¯çš„æ“ä½œä¼šåœ¨gitç«¯çœ‹åˆ°ï¼Œgitç«¯çš„æ“ä½œï¼Œåœ¨svnç«¯ä¹Ÿèƒ½çœ‹åˆ°ã€‚æ”¯æŒæ˜ å°„åˆ†æ”¯ã€tagã€committerã€gitignoreã€gitattributeã€‚

Subgitçš„æ˜ å°„æ˜¯åŸºäºgit server repoï¼Œè‡³äºè¿™ä¸ªgit server repoæ˜¯æœ€ç®€å•åŸå§‹çš„gitå‘½ä»¤åˆå§‹åŒ–çš„ï¼Œè¿˜æ˜¯åƒgitlabé‚£æ ·ç»§æ‰¿äº†å¾ˆå¤šçš„åŠŸèƒ½çš„ç½‘é¡µæœåŠ¡ï¼Œåªè¦å®ƒæœ‰ä¸€ä¸ªgit server repoçš„åœ°å€ï¼Œå°±å¯ä»¥ç”¨Subgitæ¥é•œåƒä¸SVNçš„å…³è”ã€‚

##### ç¼ºç‚¹

  - ç¬¬ä¸€æ¬¡ä»svnåˆå§‹åŒ–gitä»“åº“çš„æ—¶å€™æœ‰ç‚¹æ…¢ï¼Œå°ä»“åº“æ„Ÿè§‰è¿˜å¥½ï¼Œè¶…è¿‡1w revisionçš„svnä»“åº“åˆå§‹åŒ–èµ·æ¥æ„Ÿè§‰å¾ˆæ˜æ˜¾

##### ç›¸æ¯”ä¸git-svnçš„ä¼˜ç‚¹

- æ— æ„ŸåŒæ­¥ï¼Œä¸ç”¨`rebase`
- `git svn rebase`æ€§èƒ½å·®ï¼Œ[å°¤å…¶åœ¨windowsä¸Šæ›´æ…¢]( https://stackoverflow.com/questions/7879099/why-is-git-svn-fetch-so-slow?lq=1)

> å…³äºgit-svnçš„ä»‹ç»ï¼Œå¯ä»¥å‚è€ƒæˆ‘å¦ä¸€ç¯‡åšå®¢:[åœ¨WSLä¸­ä½¿ç”¨git svn](https://github.com/lightjiao/lightjiao.github.io/blob/master/Blogs/014.git-svn-in-wsl.md)

> Subgitæ˜¯æ”¶è´¹è½¯ä»¶ï¼Œä¸è¿‡å°å›¢é˜Ÿï¼ˆgitä¾§10äººï¼‰å…è´¹ã€‚è€Œæˆ‘è‡ªå·±æ˜¯å› ä¸ºæ›´ä¹ æƒ¯gitçš„å·¥å…·é“¾ï¼Œæ­å»ºå•ç‹¬çš„æœåŠ¡ä¸å…¬å¸çš„SVNäº¤äº’ã€‚


### å®‰è£…æ­¥éª¤ï¼š


- ä¸‹è½½subgit

  > [å®˜ç½‘ä¸‹è½½åœ°å€](https://subgit.com/download)



- å®‰è£…Javaç¯å¢ƒï¼ˆå¦‚æœå·²ç»å®‰è£…åˆ™å¯è·³è¿‡ï¼‰

  > æˆ‘å‚è€ƒçš„æ˜¯è¿™ç¯‡æ–‡ç« : [ç‚¹å‡»é“¾æ¥æŸ¥çœ‹ğŸ”—](https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-on-ubuntu-18-04)



- åˆå§‹åŒ–gitæœåŠ¡å™¨

  `git init --bare Sample.git`



- æˆ‘çš„æ–‡ä»¶ç»“æ„

  > ```
  > subgit/
  > â”œâ”€â”€â”€Sample.git/
  > â”œâ”€â”€â”€subgit-3.3.10/
  > ```




- è®¾ç½®subgité•œåƒsvnä¸gitä»“åº“
  ```
  ./subgit-3.3.10/bin/subgit configure --layout directory https://192.168.10.22/svn/SampleProject/ ./Sample.git
  ```

  å‚æ•°è§£é‡Šï¼š

  `--layout directory`ï¼šæŒ‡å®šåªåŒæ­¥ä¸€ä¸ªç›®å½•ï¼ˆtrunkï¼‰

  > å¦‚æœéœ€è¦åŒæ­¥svnçš„æ‰€æœ‰ç›®å½•ï¼ˆtagå’Œbranchï¼‰åˆ™ç”¨`--layout auto --trunk trunk`å‚æ•°æ¥æŒ‡å®šè‡ªåŠ¨æ ‡å‡†ç›®å½•å’Œtrunkçš„ç›®å½•ä½ç½®

  

- æŒ‰ç…§æç¤ºè®¾ç½®svnçš„ç”¨æˆ·åã€å¯†ç ï¼Œgitä¸svnçš„ç”¨æˆ·æ˜ å°„å³å¯ï¼ˆä¸‹é¢æ˜¯æç¤ºç¤ºä¾‹ï¼‰

  
  > ```
  > SubGit version 3.3.10 ('Bobique') build #4368
  >
  > Configuring writable Git mirror of remote Subversion repository:
  >  Subversion repository URL : https://192.168.10.22/svn/SampleProject
  >  Git repository location   : /home/lightjiao/develop/subgit/Sample.git
  >
  > CONFIGURATION SUCCESSFUL
  >
  > To complete SubGit installation do the following:
  >
  > 1) Adjust Subversion to Git branches mapping if necessary:
  >  /mnt/c/develop/subgit/Sample.git/subgit/config
  > 2) Define at least one Subversion credentials in default SubGit passwd file at:
  >  /mnt/c/develop/subgit/Sample.git/subgit/passwd
  > OR configure SSH or SSL credentials in the [auth] section of:
  >  /mnt/c/develop/subgit/Sample.git/subgit/config
  > 3) Optionally, add custom authors mapping to the authors.txt file(s) at:
  >  /mnt/c/develop/subgit/Sample.git/subgit/authors.txt
  > 4) Run SubGit 'install' command:
  >  subgit install /mnt/c/develop/subgit/Sample.git
  >```




- â— <font color=red>**åœ¨ `Sample.git/subgit/config`æ–‡ä»¶ä¸­åŠ å…¥ä¸‹é¢çš„è®¾ç½®**</font>

  ```ini
  [translate]
      eols = false
  ```

  è¿™ä¸ªè®¾ç½®çš„ä½œç”¨æ˜¯æŒ‡å®šmirrorçš„è¿‡ç¨‹ä¸­ä¸è½¬æ¢æ–‡ä»¶çš„eolï¼Œå¦‚æœä¸æŒ‡å®šè¿™ä¸ªè®¾ç½®çš„è¯ï¼Œå‡ ä¹æ¯æ¬¡svnçš„æäº¤éƒ½ä¼šå¯¹`.gitattribute`æ–‡ä»¶äº§ç”Ÿå˜åŠ¨ï¼Œå°†ä»“åº“é‡Œçš„**æ¯ä¸€ä¸ªæ–‡ä»¶**éƒ½å†™ä¸€ä»½åˆ°`.gitattribute`æ–‡ä»¶é‡Œï¼Œç±»ä¼¼äºè¿™æ ·:

  ```
  this/is/a/file1.txt -text
  this/is/a/file2.txt -text
  this/is/a/file3.txt -text
  this/is/a/file4.txt -text
  ```

  ä¸ä»…éš¾çœ‹ã€ä¼šè®©`.gitattribute`å˜å¾—å¾ˆå¤§ï¼Œè€Œä¸”ä¼šå¯¼è‡´gitä¾§mergeå’Œrebaseå˜å¾—ç»å¸¸æœ‰å†²çª

  å‚è€ƒåœ°å€:

    https://stackoverflow.com/questions/33013757/subgit-and-gitattributes

    https://subgit.com/documentation/config-options.html#translate



- æ‰§è¡Œå®‰è£…ï¼š`./subgit-3.3.10/bin/subgit install ./Sample.git`

  å®‰è£…ç»“æŸåä¼šæœ‰ä¸‹é¢è¿™æ ·çš„æç¤ºï¼š

  > ```
  > SubGit version 3.3.10 ('Bobique') build #4368
  >
  > Translating Subversion revisions to Git commits...
  >
  >  Subversion revisions translated: 1229.
  >  Total time: 1428 seconds.
  >
  > INSTALLATION SUCCESSFUL
  >
  > You are using SubGit in evaluation mode.
  > Your evaluation period expires on December 2, 2020 (in 7 days).
  >
  > Extend your trial or purchase a license key at https://subgit.com/pricing
  > ```




- åœ¨[å®˜ç½‘ç”³è¯·å…è´¹çš„key](https://subgit.com/pricing)

  æŒ‰ç…§å®˜æ–¹å‘çš„é‚®ä»¶ä¸­çš„æŒ‡ç¤ºå®‰è£…licenseå³å¯

