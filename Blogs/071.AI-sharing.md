---
title: "AI分享站阅读笔记"
date: 2023-02-05T21:53:00+08:00
draft: false
isCJKLanguage: true
---

## 读后感写在前面

- http://www.aisharing.com 是一个主要分享游戏中AI实现方案的网站，作者现在是FF的架构师。
- 游戏AI的分类与架构

  - 基于规则的AI系统。
    - 状态机（FSM）/ 层次化状态机（HFSM）
    - 行为树（Behaviour Tree）
    - 计划器（Planner）
  - 层次化的任务网络（HTN：Hierarchical task network）
  - 目标导向的AI系统（GOAP：Goal Oriented Action Planning）
  - 基于分数系统的AI设计
  

## Meta

如果你是想转游戏的开发，并且关注AI领域，我建议，可以先看看有本书叫《游戏人工智能编程精粹》，可以有个直观的认识，这个网上有下，然后还可以看看《游戏编程精粹》里的AI部分，这个相对复杂一点，都是业界的一些案例和技术总结，还又一个推荐的网站 [aigamedev.com](aigamedev.com)，里面有不少免费的好资料

## **基于分数系统的AI设计**

> 充满了 if-else 的AI系统被称为基于规则的AI系统。状态机、行为树、计划器都是这种类型的AI系统，只是实现架构不同

- 以HP、EC(Enemy Count) 为条件，Move、Retreat、Shoot为结果
- 不同条件对不同结果的影响不一样，比如HP越高越倾向于Move和Shoot而不是Retreat，没有敌人才往前移动等
- 这样有三个公式 `Move(HP, EC)` `Retreat(HP, EC)` `Shoot(HP, EC)`，哪个分数高，当前AI就采用哪个策略
- 优点是易于抽象与设计，缺点是容易有一些意想不到的情况（AI盲点）

------

## **[在AI寻路决策中运用势力图（Influence Map）](http://www.aisharing.com/archives/80)**

- 也有一种叫 基于Potential Field的寻路 方法

## **[浅谈层次化的AI架构](http://www.aisharing.com/archives/86)**

> 扩展阅读：https://itpcb.com/a/1653565 （收费）

- AI分为两个部分，决策和行为
- 决策层
  - 输入（游戏世界信息），输出（请求）
  - 做决策把命令写入到一个双缓冲的request层中
  - 一个请求可以有多个并行行为（比如一边移动一边喝水）
- 行为层
  - 输入（请求），输出（修改游戏世界的相关信息）
  - 从双缓存的request层中获取命令
- 为什么中间要用双缓存结构做隔离？
  - 将决策与行为分开，使得团队中的人员工作职责更明确。
  - 可以清晰的看到决策与行为输入输出是否正确，便于开发、调试

## **[行为树实践](http://www.aisharing.com/archives/90)**

- 行为树的特点之一就是其逻辑的可见性
- 行为树的输入可以是集中的或者分散的
  - 分散：游戏中各个模块的数据分散在各个系统：装备、人物血量、敌人数量、地图等。这样的好处是直观，没有数据冗余。缺点是依赖太多。
  - 集中：定义一个专门的数据结构作为行为树的输入数据。在行为树执行之前先将各个模块的数据搜集到这个数据结构再传递给行为树。好处是行为树的接口少，可以把行为树当黑盒，便于测试有利于开发和调试。缺点是有数据冗余。
- 黑板（BlackBoard）：
  - 可以定义一块黑板专门用于上述的集中输入数据。这个黑板对行为树**只读**，而且行为树不允许在黑板上添加信息。
  - 有时候行为树之间、行为树节点之间要共享数据，可以定义一个新的黑板。（这样就存在多个黑板了）
  - 对黑板划分作用域：全局域（G）、行为树域（T）、指定节点域（N）

## **[层次化状态机的讨论](http://www.aisharing.com/archives/393)**

- 状态机（FSM）也是一种AI架构，不过状态越多维护起来越复杂，n个状态就有 n * n 个跳转链接，而且跳转历史也几乎不可维护。（这也是行为树称为现在相对主流的AI架构的原因）

## **[关于AI难度变化的设计](http://www.aisharing.com/archives/402)**

- 尽量用参数化的AI控制
- 对于高难度AI会采取不同的AI策略，以前我们用不同的行为树来表达，实际上都是可以用参数来控制

## **[共享节点型的行为树架构](http://www.aisharing.com/archives/563)**

- 优化行为树的内存占用
- 把行为树作为一个函数，讲AI的数据传到函数里执行，这样行为树本身的数据就只用一份，减少内存占用

